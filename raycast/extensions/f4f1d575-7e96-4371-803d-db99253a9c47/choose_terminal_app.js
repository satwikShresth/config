"use strict";var m=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var I=Object.getOwnPropertyNames;var h=Object.prototype.hasOwnProperty;var w=(e,o)=>{for(var r in o)m(e,r,{get:o[r],enumerable:!0})},b=(e,o,r,n)=>{if(o&&typeof o=="object"||typeof o=="function")for(let i of I(o))!h.call(e,i)&&i!==r&&m(e,i,{get:()=>o[i],enumerable:!(n=S(o,i))||n.enumerable});return e};var T=e=>b(m({},"__esModule",{value:!0}),e);var D={};w(D,{default:()=>g});module.exports=T(D);var t=require("@raycast/api"),f=require("@raycast/api"),p=require("react");var u=require("child_process");function d(e){let o=`${e}/Contents/Info.plist`,r=["CFBundleIconFile","CFBundleIconName"],n=null;for(let c of r)try{n=(0,u.execSync)(["plutil","-extract",c,"raw",'"'+o+'"'].join(" ")).toString().trim();break}catch{continue}if(!n)return"";n.endsWith(".icns")||(n=`${n}.icns`);let i=`${e}/Contents/Resources/${n}`;return console.log(i),i}var l=require("react/jsx-runtime"),F=["net.kovidgoyal.kitty","org.alacritty","com.googlecode.iterm2","com.apple.Terminal","dev.warp.Warp-Stable","com.github.wez.wezterm"],A=({setIsTerminalSetup:e})=>{let[o,r]=(0,p.useState)(),[n,i]=(0,p.useState)(!0),{pop:c}=(0,t.useNavigation)();return(0,p.useEffect)(()=>{(async()=>{i(!0);let a=(await(0,t.getApplications)()).filter(s=>F.includes(s.bundleId||""));r(a),i(!1)})()},[]),(0,l.jsxs)(t.Form,{enableDrafts:!0,isLoading:n,navigationTitle:"Select Terminal App",actions:(0,l.jsx)(t.ActionPanel,{children:(0,l.jsx)(t.Action.SubmitForm,{title:"Submit Terminal App Name",onSubmit:async a=>{f.LocalStorage.setItem("terminalAppBundleId",a.terminalAppBundleId);let s=await(0,t.showToast)({style:t.Toast.Style.Animated,title:"Setup Terminal"});s.style=t.Toast.Style.Success,s.message=`Terminal ${a.terminalAppBundleId} is setup successfully for tmux sessioner`,e&&e(!0),c()}})}),children:[(0,l.jsx)(t.Form.Description,{text:"Choose your default terminal App"}),(0,l.jsx)(t.Form.Description,{text:"When switch to session, it will open the session in the selected terminal app."}),(0,l.jsx)(t.Form.Dropdown,{id:"terminalAppBundleId",isLoading:n,children:o?.map((a,s)=>(0,l.jsx)(t.Form.Dropdown.Item,{value:a.bundleId||"",title:a.name,icon:d(a.path)},s))})]})};var y=require("react/jsx-runtime");function g(){return(0,y.jsx)(A,{})}
